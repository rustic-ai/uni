
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Embedded Multi-Model Graph Database - Graph, Vector, Document, and Columnar workloads unified">
      
      
      
        <link rel="canonical" href="https://rustic-ai.github.io/uni/guides/cypher-querying/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../vector-search/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Cypher Querying - Uni Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/theme.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cypher-query-language" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Uni Documentation" class="md-header__button md-logo" aria-label="Uni Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Uni Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cypher Querying
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/rustic-ai/uni" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rustic-ai/uni
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Uni Documentation" class="md-nav__button md-logo" aria-label="Uni Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Uni Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rustic-ai/uni" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rustic-ai/uni
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/programming-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Programming Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/cli-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/data-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/identity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identity Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/crdt-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CRDT Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/indexing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Indexing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/concurrency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Concurrency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Cypher Querying
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Cypher Querying
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Query Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Query
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        MATCH Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MATCH Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#node-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-properties-in-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Properties in Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationship-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relationship Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-hop-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Hop Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-length-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable-Length Paths
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        WHERE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WHERE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparison-operators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparison Operators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean-logic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Boolean Logic
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        NULL Handling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        String Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property-existence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Property Existence
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETURN Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RETURN Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-projections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Projections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aliases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aliases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Expressions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct" class="md-nav__link">
    <span class="md-ellipsis">
      
        DISTINCT
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aggregations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aggregations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aggregation-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aggregation Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implicit-grouping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implicit Grouping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregation-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aggregation Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#window-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Window Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Window Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-window-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported Window Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scalar-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scalar Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scalar Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        String Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Math Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Path Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-conversion-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type Conversion Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-handling-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Null Handling Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-by-skip-limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        ORDER BY, SKIP, LIMIT
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ORDER BY, SKIP, LIMIT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sorting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sorting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pagination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pagination
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        CREATE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CREATE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returning-created-elements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returning Created Elements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        WITH Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WITH Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#intermediate-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intermediate Processing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subquery-like-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Subquery-like Behavior
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unwind-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNWIND Clause
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#call-clause-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        CALL Clause (Procedures)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CALL Clause (Procedures)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vector-search" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vector Search
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-introspection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Introspection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Index Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Index Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drop-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drop Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Show Indexes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Parameters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Query Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#session-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Session Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-session" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a Session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-session-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Session Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-variable-benefits" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Variable Benefits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-queries-vs-regular-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Queries vs Regular Queries
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#temporal-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Temporal Queries
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Temporal Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validat-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        validAt Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valid_at-macro" class="md-nav__link">
    <span class="md-ellipsis">
      
        VALID_AT Macro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-property-names" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Property Names
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporal-query-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Temporal Query Patterns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        DELETE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DELETE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deleting-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Deletion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#union-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNION Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UNION Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#union-distinct" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNION (Distinct)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-all-keep-duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNION ALL (Keep Duplicates)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-way-union" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-way UNION
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with-recursive-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        WITH RECURSIVE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WITH RECURSIVE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-recursive-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Recursive Query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-path-finding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recursive Path Finding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        EXPLAIN Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EXPLAIN Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-explain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic EXPLAIN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-the-plan" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding the Plan
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain-output-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        EXPLAIN Output Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        PROFILE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PROFILE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic PROFILE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        PROFILE Output
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-profile-for-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using PROFILE for Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-query-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Query Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Query Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find-connected-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Find Connected Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bidirectional-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bidirectional Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortest-path-future" class="md-nav__link">
    <span class="md-ellipsis">
      
        Shortest Path (Future)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#degree-counting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Degree Counting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top-k-with-ties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Top-K with Ties
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph Algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#centrality-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Centrality Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#community-detection-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Community Detection Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-finding-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Path Finding Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similarity-traversal-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Similarity &amp; Traversal Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structural-analysis-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Structural Analysis Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow-matching-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flow &amp; Matching Algorithms
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-ddl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema DDL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schema DDL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-label-vertex-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Label (Vertex Type)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-edge-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Edge Type
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Alter Schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drop-schema-elements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drop Schema Elements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constraints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Show Constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drop-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drop Constraints
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        BACKUP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vacuum" class="md-nav__link">
    <span class="md-ellipsis">
      
        VACUUM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        CHECKPOINT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compaction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compaction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Snapshots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-introspection_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Introspection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-ddl-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema DDL Procedures
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crdt-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRDT Properties
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CRDT Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-definition" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Definition
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-crdt-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported CRDT Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-crdt-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Querying CRDT Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-crdt-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Updating CRDT Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crdt-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRDT Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distributed Sync
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cypher-feature-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cypher Feature Status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vector-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vector Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-ingestion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Ingestion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schema Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance-tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance Tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Internals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Internals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/vectorized-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vectorized Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/storage-engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage Engine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/query-planning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Planning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/api-gap-plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Gap Plan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/rust-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rust API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/python-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/rest-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    REST API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/feature-comparison.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Feature Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Docs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Docs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rust/uni/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rust API (rustdoc)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/python/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python API (pdoc)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Query Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Query
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        MATCH Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MATCH Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#node-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-properties-in-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Properties in Pattern
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationship-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relationship Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-hop-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Hop Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-length-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variable-Length Paths
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        WHERE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WHERE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparison-operators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparison Operators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean-logic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Boolean Logic
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        NULL Handling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        String Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property-existence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Property Existence
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETURN Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RETURN Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-projections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Projections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aliases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aliases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Expressions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct" class="md-nav__link">
    <span class="md-ellipsis">
      
        DISTINCT
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aggregations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aggregations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aggregation-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aggregation Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implicit-grouping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implicit Grouping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregation-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aggregation Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#window-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Window Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Window Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-window-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported Window Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scalar-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scalar Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scalar Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        String Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Math Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Path Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-conversion-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type Conversion Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-handling-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Null Handling Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-by-skip-limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        ORDER BY, SKIP, LIMIT
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ORDER BY, SKIP, LIMIT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sorting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sorting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pagination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pagination
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        CREATE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CREATE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returning-created-elements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Returning Created Elements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        WITH Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WITH Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#intermediate-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Intermediate Processing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subquery-like-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Subquery-like Behavior
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unwind-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNWIND Clause
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#call-clause-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        CALL Clause (Procedures)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CALL Clause (Procedures)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vector-search" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vector Search
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-introspection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Introspection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Index Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Index Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drop-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drop Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Show Indexes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Parameters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Query Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#session-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Session Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-session" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a Session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-session-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Session Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-variable-benefits" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Variable Benefits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-queries-vs-regular-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Session Queries vs Regular Queries
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#temporal-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Temporal Queries
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Temporal Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validat-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        validAt Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valid_at-macro" class="md-nav__link">
    <span class="md-ellipsis">
      
        VALID_AT Macro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-property-names" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Property Names
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporal-query-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Temporal Query Patterns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        DELETE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DELETE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deleting-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Deletion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#union-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNION Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UNION Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#union-distinct" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNION (Distinct)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-all-keep-duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      
        UNION ALL (Keep Duplicates)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-way-union" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-way UNION
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with-recursive-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        WITH RECURSIVE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WITH RECURSIVE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-recursive-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Recursive Query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-path-finding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recursive Path Finding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        EXPLAIN Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EXPLAIN Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-explain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic EXPLAIN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-the-plan" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding the Plan
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain-output-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        EXPLAIN Output Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-clause" class="md-nav__link">
    <span class="md-ellipsis">
      
        PROFILE Clause
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PROFILE Clause">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic PROFILE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        PROFILE Output
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-profile-for-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using PROFILE for Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-query-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Query Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Query Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find-connected-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Find Connected Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bidirectional-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bidirectional Relationships
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortest-path-future" class="md-nav__link">
    <span class="md-ellipsis">
      
        Shortest Path (Future)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#degree-counting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Degree Counting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top-k-with-ties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Top-K with Ties
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph Algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#centrality-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Centrality Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#community-detection-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Community Detection Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-finding-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Path Finding Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similarity-traversal-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Similarity &amp; Traversal Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structural-analysis-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Structural Analysis Algorithms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow-matching-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flow &amp; Matching Algorithms
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-ddl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema DDL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schema DDL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-label-vertex-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Label (Vertex Type)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-edge-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Edge Type
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Alter Schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drop-schema-elements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drop Schema Elements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constraints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Show Constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drop-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drop Constraints
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        BACKUP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vacuum" class="md-nav__link">
    <span class="md-ellipsis">
      
        VACUUM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        CHECKPOINT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compaction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compaction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Snapshots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-introspection_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Introspection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-ddl-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema DDL Procedures
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crdt-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRDT Properties
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CRDT Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-definition" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Definition
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-crdt-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported CRDT Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-crdt-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Querying CRDT Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-crdt-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Updating CRDT Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crdt-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRDT Functions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distributed Sync
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cypher-feature-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cypher Feature Status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="cypher-query-language">Cypher Query Language<a class="headerlink" href="#cypher-query-language" title="Permanent link">&para;</a></h1>
<p>Uni supports a substantial subset of the OpenCypher query language, optimized for vectorized execution. This guide covers all supported syntax with practical examples.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Cypher is a declarative graph query language that uses ASCII-art patterns to describe graph structures:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">// Pattern: (startNode)-[relationship]-&gt;(endNode)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">person</span><span class="p">:</span><span class="n">Person</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">KNOWS</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">:</span><span class="n">Person</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">person</span><span class="p">.</span><span class="n">age</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">30</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">friend</span><span class="p">.</span><span class="n">name</span>
</code></pre></div>
<hr />
<h2 id="query-structure">Query Structure<a class="headerlink" href="#query-structure" title="Permanent link">&para;</a></h2>
<p>A complete Cypher query follows this structure:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>[MATCH clause]      -- Pattern matching
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>[WHERE clause]      -- Filtering
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>[WITH clause]       -- Intermediate processing
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>[RETURN clause]     -- Output projection
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>[ORDER BY clause]   -- Sorting
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>[SKIP/LIMIT clause] -- Pagination
</code></pre></div>
<h3 id="example-query">Example Query<a class="headerlink" href="#example-query" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">affiliation</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;MIT&#39;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span>
</code></pre></div>
<hr />
<h2 id="match-clause">MATCH Clause<a class="headerlink" href="#match-clause" title="Permanent link">&para;</a></h2>
<p>The <code>MATCH</code> clause specifies graph patterns to find.</p>
<h3 id="node-patterns">Node Patterns<a class="headerlink" href="#node-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// Any node</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1">// Node with label</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1">// Node with multiple labels (future)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="n">Paper</span><span class="p">:</span><span class="n">Preprint</span><span class="p">)</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1">// Node with variable binding</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">paper</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">paper</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="c1">// Anonymous node (no variable)</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">cited</span><span class="p">)</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">cited</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<h3 id="node-properties-in-pattern">Node Properties in Pattern<a class="headerlink" href="#node-properties-in-pattern" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">// Filter in pattern (equivalent to WHERE)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">year</span><span class="p">:</span><span class="w"> </span><span class="m">2023</span><span class="p">})</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1">// Multiple properties</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">year</span><span class="p">:</span><span class="w"> </span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="n">venue</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;NeurIPS&#39;</span><span class="p">})</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<h3 id="relationship-patterns">Relationship Patterns<a class="headerlink" href="#relationship-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">// Outgoing relationship</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">KNOWS</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1">// Incoming relationship</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">&lt;-[</span><span class="p">:</span><span class="n">KNOWS</span><span class="o">]-</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1">// Either direction</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">KNOWS</span><span class="o">]-</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="c1">// Any relationship type</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="n">r</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="c1">// Relationship with variable</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="n">c</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">cited</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">c</span><span class="w">  </span><span class="c1">// Access edge properties</span>
</code></pre></div>
<h3 id="multi-hop-patterns">Multi-Hop Patterns<a class="headerlink" href="#multi-hop-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// 2-hop path</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">c</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1">// Chain multiple relationships</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">AFFILIATED_WITH</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">u</span><span class="p">:</span><span class="n">University</span><span class="p">)</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="p">.</span><span class="n">name</span>
</code></pre></div>
<h3 id="variable-length-paths">Variable-Length Paths<a class="headerlink" href="#variable-length-paths" title="Permanent link">&para;</a></h3>
<p>Variable-length path patterns allow traversing multiple hops in a single pattern.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">// 1 to 3 hops</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="p">*</span><span class="m">1</span><span class="p">..</span><span class="m">3</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c1">// Exactly 2 hops</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">KNOWS</span><span class="p">*</span><span class="m">2</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1">// Any length (use with caution on large graphs)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">KNOWS</span><span class="p">*</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="c1">// Zero or more hops</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">KNOWS</span><span class="p">*</span><span class="m">0</span><span class="p">..</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c1">// With path variable</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="k">MATCH</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="p">*</span><span class="m">1</span><span class="p">..</span><span class="m">5</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Attention Is All You Need&#39;</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">hops</span>
</code></pre></div>
<hr />
<h2 id="where-clause">WHERE Clause<a class="headerlink" href="#where-clause" title="Permanent link">&para;</a></h2>
<p>The <code>WHERE</code> clause filters matched patterns.</p>
<h3 id="comparison-operators">Comparison Operators<a class="headerlink" href="#comparison-operators" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// Equality</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">2023</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1">// Inequality</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&lt;&gt;</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="err">!</span><span class="p">=</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c1">// Comparison</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="m">2025</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&lt;=</span><span class="w"> </span><span class="m">2025</span>
</code></pre></div>
<h3 id="boolean-logic">Boolean Logic<a class="headerlink" href="#boolean-logic" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">// AND</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;NeurIPS&#39;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1">// OR</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;NeurIPS&#39;</span><span class="w"> </span><span class="n">OR</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;ICML&#39;</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1">// NOT</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">is_retracted</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="c1">// Parentheses for grouping</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;NeurIPS&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">OR</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">1000</span>
</code></pre></div>
<h3 id="null-handling">NULL Handling<a class="headerlink" href="#null-handling" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">// Check for NULL</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">doi</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">doi</span><span class="w"> </span><span class="n">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="c1">// COALESCE (use default if NULL)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">COALESCE</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">nickname</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">display_name</span>
</code></pre></div>
<h3 id="string-operations">String Operations<a class="headerlink" href="#string-operations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">// Starts with</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="k">STARTS</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="s">&#39;Attention&#39;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1">// Ends with</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="k">ENDS</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="s">&#39;Networks&#39;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c1">// Contains (uses JSON FTS index if available)</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="n">CONTAINS</span><span class="w"> </span><span class="s">&#39;Transformer&#39;</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="c1">// Full-text search on JSON document column (requires JSON FTS index)</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="err">_</span><span class="n">doc</span><span class="w"> </span><span class="n">CONTAINS</span><span class="w"> </span><span class="s">&#39;graph database&#39;</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="c1">// Path-specific JSON FTS search</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="err">_</span><span class="n">doc</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="n">CONTAINS</span><span class="w"> </span><span class="s">&#39;graph&#39;</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="c1">// Regular expression (future)</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="p">=</span><span class="err">~</span><span class="w"> </span><span class="s">&#39;.*Transform.*&#39;</span>
</code></pre></div>
<p><strong>Note:</strong> The <code>CONTAINS</code> operator is automatically routed to JSON FTS indexes when the column has an FTS index, enabling BM25-based full-text search with relevance ranking.</p>
<h3 id="list-operations">List Operations<a class="headerlink" href="#list-operations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">// IN list</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;NeurIPS&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;ICML&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;ICLR&#39;</span><span class="o">]</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="c1">// NOT IN</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;Workshop&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Demo&#39;</span><span class="o">]</span>
</code></pre></div>
<h3 id="property-existence">Property Existence<a class="headerlink" href="#property-existence" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">// Check if property exists</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">abstract</span><span class="w"> </span><span class="n">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="c1">// In pattern</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">EXISTS</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">doi</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="return-clause">RETURN Clause<a class="headerlink" href="#return-clause" title="Permanent link">&para;</a></h2>
<p>The <code>RETURN</code> clause specifies output columns.</p>
<h3 id="basic-projections">Basic Projections<a class="headerlink" href="#basic-projections" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// Single property</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="c1">// Multiple properties</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1">// All properties (*)</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.*</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="c1">// Entire node</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span>
</code></pre></div>
<h3 id="aliases">Aliases<a class="headerlink" href="#aliases" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">// AS keyword</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">paper_title</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">author_name</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1">// Expression aliases</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">next_year</span>
</code></pre></div>
<h3 id="expressions">Expressions<a class="headerlink" href="#expressions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">// Arithmetic</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">double_citations</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="c1">// String concatenation</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="s">&#39; (&#39;</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">formatted</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="c1">// Conditional (CASE)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="k">RETURN</span><span class="w"> </span><span class="k">CASE</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span><span class="k">WHEN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">1000</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s">&#39;High Impact&#39;</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">  </span><span class="k">WHEN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s">&#39;Medium Impact&#39;</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">  </span><span class="n">ELSE</span><span class="w"> </span><span class="s">&#39;Low Impact&#39;</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">impact_level</span>
</code></pre></div>
<h3 id="distinct">DISTINCT<a class="headerlink" href="#distinct" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">// Remove duplicates</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="k">RETURN</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c1">// Distinct combinations</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span>
</code></pre></div>
<hr />
<h2 id="aggregations">Aggregations<a class="headerlink" href="#aggregations" title="Permanent link">&para;</a></h2>
<p>Uni supports standard aggregation functions.</p>
<h3 id="aggregation-functions">Aggregation Functions<a class="headerlink" href="#aggregation-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>COUNT(*)</code></td>
<td>Count all rows</td>
<td><code>RETURN COUNT(*)</code></td>
</tr>
<tr>
<td><code>COUNT(x)</code></td>
<td>Count non-null values</td>
<td><code>RETURN COUNT(p.doi)</code></td>
</tr>
<tr>
<td><code>COUNT(DISTINCT x)</code></td>
<td>Count distinct values</td>
<td><code>RETURN COUNT(DISTINCT p.venue)</code></td>
</tr>
<tr>
<td><code>SUM(x)</code></td>
<td>Sum numeric values</td>
<td><code>RETURN SUM(p.citations)</code></td>
</tr>
<tr>
<td><code>AVG(x)</code></td>
<td>Average</td>
<td><code>RETURN AVG(p.citations)</code></td>
</tr>
<tr>
<td><code>MIN(x)</code></td>
<td>Minimum</td>
<td><code>RETURN MIN(p.year)</code></td>
</tr>
<tr>
<td><code>MAX(x)</code></td>
<td>Maximum</td>
<td><code>RETURN MAX(p.year)</code></td>
</tr>
<tr>
<td><code>COLLECT(x)</code></td>
<td>Collect into list</td>
<td><code>RETURN COLLECT(p.title)</code></td>
</tr>
</tbody>
</table>
<h3 id="implicit-grouping">Implicit Grouping<a class="headerlink" href="#implicit-grouping" title="Permanent link">&para;</a></h3>
<p>Non-aggregated columns become GROUP BY keys:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">// Group by venue, count papers per venue</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">paper_count</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">paper_count</span><span class="w"> </span><span class="k">DESC</span>
</code></pre></div>
<h3 id="aggregation-examples">Aggregation Examples<a class="headerlink" href="#aggregation-examples" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">// Count papers per author</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">papers</span><span class="p">,</span><span class="w"> </span><span class="n">AVG</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">avg_citations</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1">// Most cited papers per venue</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="p">,</span><span class="w"> </span><span class="n">MAX</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">top_citations</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">top_citations</span><span class="w"> </span><span class="k">DESC</span>
</code></pre></div>
<hr />
<h2 id="window-functions">Window Functions<a class="headerlink" href="#window-functions" title="Permanent link">&para;</a></h2>
<p>Window functions perform calculations across a set of rows related to the current row, without collapsing results like aggregations.</p>
<h3 id="basic-syntax">Basic Syntax<a class="headerlink" href="#basic-syntax" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">function_name</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">  </span><span class="o">[</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">partition_expr</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="o">]</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="o">[</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">order_expr</span><span class="w"> </span><span class="o">[</span><span class="k">ASC</span><span class="p">|</span><span class="k">DESC</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="o">]</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="p">)</span>
</code></pre></div>
<h3 id="supported-window-functions">Supported Window Functions<a class="headerlink" href="#supported-window-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>row_number()</code></td>
<td>Sequential row number</td>
<td><code>row_number() OVER (ORDER BY p.year)</code></td>
</tr>
<tr>
<td><code>rank()</code></td>
<td>Rank with gaps for ties</td>
<td><code>rank() OVER (ORDER BY p.citations DESC)</code></td>
</tr>
<tr>
<td><code>dense_rank()</code></td>
<td>Rank without gaps</td>
<td><code>dense_rank() OVER (ORDER BY p.citations DESC)</code></td>
</tr>
<tr>
<td><code>sum()</code></td>
<td>Running sum</td>
<td><code>sum(p.citations) OVER (ORDER BY p.year)</code></td>
</tr>
<tr>
<td><code>avg()</code></td>
<td>Running average</td>
<td><code>avg(p.citations) OVER (PARTITION BY p.venue)</code></td>
</tr>
<tr>
<td><code>count()</code></td>
<td>Running count</td>
<td><code>count(*) OVER (PARTITION BY p.venue)</code></td>
</tr>
<tr>
<td><code>min()</code> / <code>max()</code></td>
<td>Running min/max</td>
<td><code>max(p.citations) OVER (PARTITION BY p.author)</code></td>
</tr>
</tbody>
</table>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h3>
<p><strong>Ranking within partitions:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="p">,</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">       </span><span class="n">rank</span><span class="p">()</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="k">DESC</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">venue_rank</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="p">,</span><span class="w"> </span><span class="n">venue_rank</span>
</code></pre></div></p>
<p><strong>Running totals:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">author</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="p">,</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">       </span><span class="n">sum</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">cumulative_citations</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span>
</code></pre></div></p>
<p><strong>Top N per group:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="k">WITH</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">row_number</span><span class="p">()</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="k">DESC</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">rn</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">rn</span><span class="w"> </span><span class="p">&lt;=</span><span class="w"> </span><span class="m">3</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="k">DESC</span>
</code></pre></div></p>
<hr />
<h2 id="scalar-functions">Scalar Functions<a class="headerlink" href="#scalar-functions" title="Permanent link">&para;</a></h2>
<p>Uni provides a comprehensive set of scalar functions for data transformation.</p>
<h3 id="string-functions">String Functions<a class="headerlink" href="#string-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>toUpper(s)</code> / <code>upper(s)</code></td>
<td>Convert to uppercase</td>
<td><code>RETURN toUpper('hello')</code>  <code>'HELLO'</code></td>
</tr>
<tr>
<td><code>toLower(s)</code> / <code>lower(s)</code></td>
<td>Convert to lowercase</td>
<td><code>RETURN toLower('HELLO')</code>  <code>'hello'</code></td>
</tr>
<tr>
<td><code>trim(s)</code></td>
<td>Remove leading/trailing whitespace</td>
<td><code>RETURN trim('  hi  ')</code>  <code>'hi'</code></td>
</tr>
<tr>
<td><code>ltrim(s)</code></td>
<td>Remove leading whitespace</td>
<td><code>RETURN ltrim('  hi')</code>  <code>'hi'</code></td>
</tr>
<tr>
<td><code>rtrim(s)</code></td>
<td>Remove trailing whitespace</td>
<td><code>RETURN rtrim('hi  ')</code>  <code>'hi'</code></td>
</tr>
<tr>
<td><code>substring(s, start, [len])</code></td>
<td>Extract substring</td>
<td><code>RETURN substring('hello', 1, 3)</code>  <code>'ell'</code></td>
</tr>
<tr>
<td><code>left(s, n)</code></td>
<td>First n characters</td>
<td><code>RETURN left('hello', 2)</code>  <code>'he'</code></td>
</tr>
<tr>
<td><code>right(s, n)</code></td>
<td>Last n characters</td>
<td><code>RETURN right('hello', 2)</code>  <code>'lo'</code></td>
</tr>
<tr>
<td><code>reverse(s)</code></td>
<td>Reverse string</td>
<td><code>RETURN reverse('hello')</code>  <code>'olleh'</code></td>
</tr>
<tr>
<td><code>replace(s, old, new)</code></td>
<td>Replace occurrences</td>
<td><code>RETURN replace('hello', 'l', 'x')</code>  <code>'hexxo'</code></td>
</tr>
<tr>
<td><code>split(s, delim)</code></td>
<td>Split into list</td>
<td><code>RETURN split('a,b,c', ',')</code>  <code>['a','b','c']</code></td>
</tr>
<tr>
<td><code>lpad(s, len, [pad])</code></td>
<td>Pad left to length</td>
<td><code>RETURN lpad('5', 3, '0')</code>  <code>'005'</code></td>
</tr>
<tr>
<td><code>rpad(s, len, [pad])</code></td>
<td>Pad right to length</td>
<td><code>RETURN rpad('5', 3, '0')</code>  <code>'500'</code></td>
</tr>
</tbody>
</table>
<h3 id="math-functions">Math Functions<a class="headerlink" href="#math-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>abs(n)</code></td>
<td>Absolute value</td>
<td><code>RETURN abs(-5)</code>  <code>5</code></td>
</tr>
<tr>
<td><code>ceil(n)</code></td>
<td>Round up</td>
<td><code>RETURN ceil(4.2)</code>  <code>5</code></td>
</tr>
<tr>
<td><code>floor(n)</code></td>
<td>Round down</td>
<td><code>RETURN floor(4.8)</code>  <code>4</code></td>
</tr>
<tr>
<td><code>round(n)</code></td>
<td>Round to nearest</td>
<td><code>RETURN round(4.5)</code>  <code>5</code></td>
</tr>
<tr>
<td><code>sqrt(n)</code></td>
<td>Square root</td>
<td><code>RETURN sqrt(16)</code>  <code>4</code></td>
</tr>
<tr>
<td><code>sign(n)</code></td>
<td>Sign (-1, 0, 1)</td>
<td><code>RETURN sign(-5)</code>  <code>-1</code></td>
</tr>
<tr>
<td><code>log(n)</code></td>
<td>Natural logarithm</td>
<td><code>RETURN log(2.718)</code>  <code>~1</code></td>
</tr>
<tr>
<td><code>log10(n)</code></td>
<td>Base-10 logarithm</td>
<td><code>RETURN log10(100)</code>  <code>2</code></td>
</tr>
<tr>
<td><code>exp(n)</code></td>
<td>e^n</td>
<td><code>RETURN exp(1)</code>  <code>~2.718</code></td>
</tr>
<tr>
<td><code>power(base, exp)</code> / <code>pow(base, exp)</code></td>
<td>Exponentiation</td>
<td><code>RETURN power(2, 3)</code>  <code>8</code></td>
</tr>
<tr>
<td><code>sin(n)</code>, <code>cos(n)</code>, <code>tan(n)</code></td>
<td>Trigonometric</td>
<td><code>RETURN sin(0)</code>  <code>0</code></td>
</tr>
</tbody>
</table>
<h3 id="list-functions">List Functions<a class="headerlink" href="#list-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>size(list)</code></td>
<td>Length of list/string/map</td>
<td><code>RETURN size([1,2,3])</code>  <code>3</code></td>
</tr>
<tr>
<td><code>head(list)</code></td>
<td>First element</td>
<td><code>RETURN head([1,2,3])</code>  <code>1</code></td>
</tr>
<tr>
<td><code>tail(list)</code></td>
<td>All but first element</td>
<td><code>RETURN tail([1,2,3])</code>  <code>[2,3]</code></td>
</tr>
<tr>
<td><code>last(list)</code></td>
<td>Last element</td>
<td><code>RETURN last([1,2,3])</code>  <code>3</code></td>
</tr>
<tr>
<td><code>keys(map)</code></td>
<td>Keys of a map</td>
<td><code>RETURN keys({a:1, b:2})</code>  <code>['a','b']</code></td>
</tr>
<tr>
<td><code>range(start, end, [step])</code></td>
<td>Generate number sequence</td>
<td><code>RETURN range(1, 5)</code>  <code>[1,2,3,4,5]</code></td>
</tr>
</tbody>
</table>
<h3 id="path-functions">Path Functions<a class="headerlink" href="#path-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>length(path)</code></td>
<td>Number of relationships in path</td>
<td><code>RETURN length(path)</code></td>
</tr>
<tr>
<td><code>nodes(path)</code></td>
<td>List of nodes in path</td>
<td><code>RETURN nodes(path)</code></td>
</tr>
<tr>
<td><code>relationships(path)</code></td>
<td>List of relationships in path</td>
<td><code>RETURN relationships(path)</code></td>
</tr>
</tbody>
</table>
<h3 id="type-conversion-functions">Type Conversion Functions<a class="headerlink" href="#type-conversion-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>toInteger(x)</code></td>
<td>Convert to integer</td>
<td><code>RETURN toInteger('42')</code>  <code>42</code></td>
</tr>
<tr>
<td><code>toFloat(x)</code></td>
<td>Convert to float</td>
<td><code>RETURN toFloat('3.14')</code>  <code>3.14</code></td>
</tr>
<tr>
<td><code>toString(x)</code></td>
<td>Convert to string</td>
<td><code>RETURN toString(42)</code>  <code>'42'</code></td>
</tr>
<tr>
<td><code>toBoolean(x)</code></td>
<td>Convert to boolean</td>
<td><code>RETURN toBoolean('true')</code>  <code>true</code></td>
</tr>
</tbody>
</table>
<h3 id="null-handling-functions">Null Handling Functions<a class="headerlink" href="#null-handling-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>coalesce(x, y, ...)</code></td>
<td>First non-null value</td>
<td><code>RETURN coalesce(null, 'default')</code>  <code>'default'</code></td>
</tr>
<tr>
<td><code>nullif(a, b)</code></td>
<td>Return null if a = b</td>
<td><code>RETURN nullif(5, 5)</code>  <code>null</code></td>
</tr>
</tbody>
</table>
<h3 id="example-usage">Example Usage<a class="headerlink" href="#example-usage" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">// String manipulation</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">toUpper</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">upper_title</span><span class="p">,</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">       </span><span class="n">substring</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">abstract</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">abstract_preview</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="c1">// Math operations</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="m">10</span><span class="p">.</span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">rounded_citations</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="c1">// List operations</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">affiliations</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">affiliations</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">primary_affiliation</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="c1">// Type conversion</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">toInteger</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">year_str</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<hr />
<h2 id="order-by-skip-limit">ORDER BY, SKIP, LIMIT<a class="headerlink" href="#order-by-skip-limit" title="Permanent link">&para;</a></h2>
<h3 id="sorting">Sorting<a class="headerlink" href="#sorting" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">// Ascending (default)</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1">// Descending</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="c1">// Multiple columns</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="k">DESC</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="k">ASC</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="c1">// By alias</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">cites</span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">cites</span><span class="w"> </span><span class="k">DESC</span>
</code></pre></div>
<h3 id="pagination">Pagination<a class="headerlink" href="#pagination" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1">// First 10 results</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="c1">// Skip first 20, take next 10</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="k">SKIP</span><span class="w"> </span><span class="m">20</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="c1">// Combined</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="k">SKIP</span><span class="w"> </span><span class="m">100</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">25</span>
</code></pre></div>
<hr />
<h2 id="create-clause">CREATE Clause<a class="headerlink" href="#create-clause" title="Permanent link">&para;</a></h2>
<p>Create new nodes and relationships.</p>
<h3 id="creating-nodes">Creating Nodes<a class="headerlink" href="#creating-nodes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">// Simple node</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;My Paper&#39;</span><span class="p">})</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="c1">// With properties</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">  </span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;New Research&#39;</span><span class="p">,</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">  </span><span class="n">year</span><span class="p">:</span><span class="w"> </span><span class="m">2024</span><span class="p">,</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">  </span><span class="n">venue</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;ArXiv&#39;</span><span class="p">,</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">  </span><span class="n">citations</span><span class="p">:</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="p">})</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="c1">// Multiple nodes</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span><span class="p">}),</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Bob&#39;</span><span class="p">})</span>
</code></pre></div>
<h3 id="creating-relationships">Creating Relationships<a class="headerlink" href="#creating-relationships" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">// Between existing nodes</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Paper A&#39;</span><span class="p">}),</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span><span class="p">})</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="w"> </span><span class="p">{</span><span class="n">position</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1">// Create node and relationship together</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;New Paper&#39;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;New Author&#39;</span><span class="p">})</span>
</code></pre></div>
<h3 id="returning-created-elements">Returning Created Elements<a class="headerlink" href="#returning-created-elements" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;My Paper&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="p">:</span><span class="w"> </span><span class="m">2024</span><span class="p">})</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span>
</code></pre></div>
<hr />
<h2 id="with-clause">WITH Clause<a class="headerlink" href="#with-clause" title="Permanent link">&para;</a></h2>
<p>The <code>WITH</code> clause chains query parts together.</p>
<h3 id="intermediate-processing">Intermediate Processing<a class="headerlink" href="#intermediate-processing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">// Filter after aggregation</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="k">WITH</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">paper_count</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">paper_count</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">5</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">paper_count</span>
</code></pre></div>
<h3 id="subquery-like-behavior">Subquery-like Behavior<a class="headerlink" href="#subquery-like-behavior" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">// First find top authors, then their papers</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="o">&lt;-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="o">]-</span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="k">WITH</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">papers</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">&lt;-[</span><span class="p">:</span><span class="n">AUTHORED_BY</span><span class="o">]-</span><span class="p">(</span><span class="n">recent</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">recent</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="m">2022</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">recent</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<hr />
<h2 id="unwind-clause">UNWIND Clause<a class="headerlink" href="#unwind-clause" title="Permanent link">&para;</a></h2>
<p>Expand a list into individual rows.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">// Expand literal list</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="k">UNWIND</span><span class="w"> </span><span class="o">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="o">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">num</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">num</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="c1">// Expand list property</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="k">UNWIND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">keywords</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">keyword</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">keyword</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(*)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">usage</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">usage</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="c1">// Create multiple from list</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="k">UNWIND</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;Alice&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Bob&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Charlie&#39;</span><span class="o">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">name</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">})</span>
</code></pre></div>
<hr />
<h2 id="call-clause-procedures">CALL Clause (Procedures)<a class="headerlink" href="#call-clause-procedures" title="Permanent link">&para;</a></h2>
<p>Invoke built-in procedures.</p>
<h3 id="vector-search">Vector Search<a class="headerlink" href="#vector-search" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">// Basic vector search</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">idx</span><span class="p">.</span><span class="n">vector</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">&#39;Paper&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;embedding&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="n">query_vector</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">distance</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">node</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">distance</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="c1">// With threshold</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">idx</span><span class="p">.</span><span class="n">vector</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">&#39;Paper&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;embedding&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="n">query_vector</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">.</span><span class="m">3</span><span class="p">)</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">distance</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">.</span><span class="m">2</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">node</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
<h3 id="schema-introspection">Schema Introspection<a class="headerlink" href="#schema-introspection" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1">// List labels</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">labels</span><span class="p">()</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">label</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">label</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="c1">// List relationship types</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">relationshipTypes</span><span class="p">()</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">relationshipType</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">relationshipType</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="c1">// List indexes</span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">indexes</span><span class="p">()</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">labelsOrTypes</span><span class="p">,</span><span class="w"> </span><span class="n">properties</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="k">RETURN</span><span class="w"> </span><span class="p">*</span>
</code></pre></div>
<hr />
<h2 id="index-management">Index Management<a class="headerlink" href="#index-management" title="Permanent link">&para;</a></h2>
<h3 id="create-indexes">Create Indexes<a class="headerlink" href="#create-indexes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">// Scalar index</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="p">:</span><span class="n">Paper</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="c1">// Named index</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">paper_year</span><span class="w"> </span><span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="p">)</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="c1">// Vector index</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">VECTOR</span><span class="w"> </span><span class="n">INDEX</span><span class="w"> </span><span class="n">paper_embeddings</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">embedding</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="n">OPTIONS</span><span class="w"> </span><span class="p">{</span><span class="n">index_type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;hnsw&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">metric</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;cosine&#39;</span><span class="p">}</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="c1">// JSON Full-Text index</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="n">FULLTEXT</span><span class="w"> </span><span class="n">INDEX</span><span class="w"> </span><span class="n">article_fts</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Article</span><span class="p">)</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="err">_</span><span class="n">doc</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="n">OPTIONS</span><span class="w"> </span><span class="p">{</span><span class="n">with_positions</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">}</span>
</code></pre></div>
<h3 id="drop-indexes">Drop Indexes<a class="headerlink" href="#drop-indexes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="n">DROP</span><span class="w"> </span><span class="n">INDEX</span><span class="w"> </span><span class="n">paper_year</span>
</code></pre></div>
<h3 id="show-indexes">Show Indexes<a class="headerlink" href="#show-indexes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">SHOW</span><span class="w"> </span><span class="n">INDEXES</span>
</code></pre></div>
<hr />
<h2 id="query-parameters">Query Parameters<a class="headerlink" href="#query-parameters" title="Permanent link">&para;</a></h2>
<p>Use parameters to avoid injection and improve plan caching.</p>
<h3 id="parameter-syntax">Parameter Syntax<a class="headerlink" href="#parameter-syntax" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1">// In query</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">year</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">venue</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">venue</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<h3 id="cli-usage">CLI Usage<a class="headerlink" href="#cli-usage" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>uni<span class="w"> </span>query<span class="w"> </span><span class="s2">&quot;MATCH (p:Paper) WHERE p.year = \$year RETURN p&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">    </span>--params<span class="w"> </span><span class="s1">&#39;{&quot;year&quot;: 2023}&#39;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span>--path<span class="w"> </span>./storage
</code></pre></div>
<hr />
<h2 id="session-variables">Session Variables<a class="headerlink" href="#session-variables" title="Permanent link">&para;</a></h2>
<p>Session variables provide scoped context that's automatically available in all queries within a session. This is ideal for multi-tenant applications.</p>
<h3 id="creating-a-session">Creating a Session<a class="headerlink" href="#creating-a-session" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">// Rust API</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kd">let</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">()</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;tenant_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;acme-corp&quot;</span><span class="p">)</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;user_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;user-123&quot;</span><span class="p">)</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;granted_tags&quot;</span><span class="p">,</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="s">&quot;public&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;team:eng&quot;</span><span class="p">])</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">    </span><span class="p">.</span><span class="n">build</span><span class="p">();</span>
</code></pre></div>
<h3 id="using-session-variables">Using Session Variables<a class="headerlink" href="#using-session-variables" title="Permanent link">&para;</a></h3>
<p>Access session variables with the <code>$session.</code> prefix:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">// Automatic tenant filtering</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">d</span><span class="p">:</span><span class="n">Document</span><span class="p">)</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">tenant_id</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">session</span><span class="p">.</span><span class="n">tenant_id</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="c1">// Multiple session variables</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="n">Event</span><span class="p">)</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">tenant_id</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">session</span><span class="p">.</span><span class="n">tenant_id</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">  </span><span class="n">AND</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">created_by</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">session</span><span class="p">.</span><span class="n">user_id</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">e</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="c1">// Combining session variables with query parameters</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">d</span><span class="p">:</span><span class="n">Document</span><span class="p">)</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">tenant_id</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">session</span><span class="p">.</span><span class="n">tenant_id</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="w">  </span><span class="n">AND</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">status</span>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">d</span>
</code></pre></div>
<h3 id="session-variable-benefits">Session Variable Benefits<a class="headerlink" href="#session-variable-benefits" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Benefit</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Reduced boilerplate</strong></td>
<td>No need to pass tenant_id to every query</td>
</tr>
<tr>
<td><strong>Security</strong></td>
<td>Variables are immutable after session creation</td>
</tr>
<tr>
<td><strong>Consistency</strong></td>
<td>Same context applied to all queries in session</td>
</tr>
<tr>
<td><strong>Multi-tenancy</strong></td>
<td>Natural pattern for SaaS applications</td>
</tr>
</tbody>
</table>
<h3 id="session-queries-vs-regular-queries">Session Queries vs Regular Queries<a class="headerlink" href="#session-queries-vs-regular-queries" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">// Without session (repetitive)</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="n">db</span><span class="p">.</span><span class="n">query_with</span><span class="p">(</span><span class="s">&quot;MATCH (d:Document) WHERE d.tenant = $t RETURN d&quot;</span><span class="p">)</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="p">.</span><span class="n">param</span><span class="p">(</span><span class="s">&quot;t&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;acme&quot;</span><span class="p">)</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="p">.</span><span class="n">fetch_all</span><span class="p">().</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="c1">// With session (cleaner)</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="kd">let</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">().</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;tenant&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;acme&quot;</span><span class="p">).</span><span class="n">build</span><span class="p">();</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="n">session</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">&quot;MATCH (d:Document) WHERE d.tenant = $session.tenant RETURN d&quot;</span><span class="p">).</span><span class="k">await</span><span class="o">?</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="temporal-queries">Temporal Queries<a class="headerlink" href="#temporal-queries" title="Permanent link">&para;</a></h2>
<p>Uni provides functions for querying temporal (time-based) data with validity ranges.</p>
<h3 id="validat-function">validAt Function<a class="headerlink" href="#validat-function" title="Permanent link">&para;</a></h3>
<p>Check if a node or edge was valid at a specific point in time:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="c1">// Basic validAt usage</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="n">Event</span><span class="p">)</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">validAt</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;valid_from&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;valid_to&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">(</span><span class="err">$</span><span class="n">time</span><span class="p">))</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">valid_from</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">valid_to</span>
</code></pre></div>
<p><strong>Parameters:</strong>
- <code>e</code>: Node or edge to check
- <code>'valid_from'</code>: Property name for start time
- <code>'valid_to'</code>: Property name for end time
- <code>datetime($time)</code>: Point in time to check</p>
<p><strong>Semantics:</strong> <code>valid_from &lt;= time &lt; valid_to</code> (half-open interval)</p>
<h3 id="valid_at-macro">VALID_AT Macro<a class="headerlink" href="#valid_at-macro" title="Permanent link">&para;</a></h3>
<p>For convenience, use the <code>VALID_AT</code> macro with default property names:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="c1">// Macro form (uses &#39;valid_from&#39; and &#39;valid_to&#39; by default)</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="n">Event</span><span class="p">)</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="n">VALID_AT</span><span class="w"> </span><span class="n">datetime</span><span class="p">(</span><span class="s">&#39;2024-06-15T12:00:00Z&#39;</span><span class="p">)</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span>
</code></pre></div>
<h3 id="custom-property-names">Custom Property Names<a class="headerlink" href="#custom-property-names" title="Permanent link">&para;</a></h3>
<p>Specify custom property names if your schema differs:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1">// With custom property names</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">:</span><span class="n">Contract</span><span class="p">)</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">VALID_AT</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="err">$</span><span class="n">check_time</span><span class="p">),</span><span class="w"> </span><span class="s">&#39;start_date&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;end_date&#39;</span><span class="p">)</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="n">value</span>
</code></pre></div>
<h3 id="temporal-query-patterns">Temporal Query Patterns<a class="headerlink" href="#temporal-query-patterns" title="Permanent link">&para;</a></h3>
<p><strong>Find currently valid records:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="n">Employee</span><span class="p">)</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">validAt</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;hire_date&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;termination_date&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">())</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">department</span>
</code></pre></div>
<p><strong>Find records valid at a historical point:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Price</span><span class="p">)</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">product_id</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">$</span><span class="n">product_id</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">  </span><span class="n">AND</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">validAt</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;effective_from&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;effective_to&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">(</span><span class="s">&#39;2024-01-01&#39;</span><span class="p">))</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">amount</span>
</code></pre></div>
<p><strong>Temporal edges:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="n">Employee</span><span class="p">)</span><span class="o">-[</span><span class="n">r</span><span class="p">:</span><span class="n">WORKS_IN</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">d</span><span class="p">:</span><span class="n">Department</span><span class="p">)</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">validAt</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;start_date&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;end_date&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">datetime</span><span class="p">(</span><span class="err">$</span><span class="n">as_of_date</span><span class="p">))</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">name</span>
</code></pre></div>
<p><strong>Open-ended validity (NULL end date):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1">// Records with NULL valid_to are considered currently valid</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">m</span><span class="p">:</span><span class="n">Membership</span><span class="p">)</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">valid_to</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="w">  </span><span class="n">OR</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">valid_to</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="n">datetime</span><span class="p">()</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">m</span>
</code></pre></div>
<hr />
<h2 id="delete-clause">DELETE Clause<a class="headerlink" href="#delete-clause" title="Permanent link">&para;</a></h2>
<p>Remove nodes and relationships from the graph.</p>
<h3 id="deleting-relationships">Deleting Relationships<a class="headerlink" href="#deleting-relationships" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1">// Delete a specific relationship</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="o">-[</span><span class="n">r</span><span class="p">:</span><span class="n">AUTHORED</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Old Paper&#39;</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="k">DELETE</span><span class="w"> </span><span class="n">r</span>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="c1">// Delete all relationships of a type</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">()</span><span class="o">-[</span><span class="n">r</span><span class="p">:</span><span class="n">DEPRECATED</span><span class="o">]-&gt;</span><span class="p">()</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="k">DELETE</span><span class="w"> </span><span class="n">r</span>
</code></pre></div>
<h3 id="deleting-nodes">Deleting Nodes<a class="headerlink" href="#deleting-nodes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="c1">// Delete a node (must have no relationships)</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Deleted Paper&#39;</span><span class="p">})</span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="k">DELETE</span><span class="w"> </span><span class="n">p</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="c1">// Delete node and all its relationships (DETACH)</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Deleted Paper&#39;</span><span class="p">})</span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="n">DETACH</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="n">p</span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="c1">// Delete multiple nodes</span>
<a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="m">1990</span>
<a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a><span class="n">DETACH</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="n">p</span>
</code></pre></div>
<h3 id="conditional-deletion">Conditional Deletion<a class="headerlink" href="#conditional-deletion" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="c1">// Delete only if condition is met</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="m">2000</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="n">DETACH</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="n">p</span>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(*)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">deleted_count</span>
</code></pre></div>
<hr />
<h2 id="union-clause">UNION Clause<a class="headerlink" href="#union-clause" title="Permanent link">&para;</a></h2>
<p>Combine results from multiple queries.</p>
<h3 id="union-distinct">UNION (Distinct)<a class="headerlink" href="#union-distinct" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1">// Combine results, removing duplicates</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">affiliation</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;MIT&#39;</span><span class="p">})</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">name</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="k">UNION</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">affiliation</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Stanford&#39;</span><span class="p">})</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">name</span>
</code></pre></div>
<h3 id="union-all-keep-duplicates">UNION ALL (Keep Duplicates)<a class="headerlink" href="#union-all-keep-duplicates" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="c1">// Combine results, keeping all rows</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Paper A&#39;</span><span class="p">})</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">title</span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="k">UNION</span><span class="w"> </span><span class="k">ALL</span>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Paper B&#39;</span><span class="p">})</span>
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">title</span>
</code></pre></div>
<h3 id="multi-way-union">Multi-way UNION<a class="headerlink" href="#multi-way-union" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="c1">// Combine multiple queries</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">h_index</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">50</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;high_impact&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">category</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="k">UNION</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">papers</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">100</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;prolific&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">category</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="k">UNION</span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">10000</span>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;highly_cited&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">category</span>
</code></pre></div>
<hr />
<h2 id="with-recursive-clause">WITH RECURSIVE Clause<a class="headerlink" href="#with-recursive-clause" title="Permanent link">&para;</a></h2>
<p>Execute recursive queries using Common Table Expressions (CTEs).</p>
<h3 id="basic-recursive-query">Basic Recursive Query<a class="headerlink" href="#basic-recursive-query" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="c1">// Find all transitive citations (papers cited by cited papers)</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="k">WITH</span><span class="w"> </span><span class="n">RECURSIVE</span><span class="w"> </span><span class="n">citation_chain</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">  </span><span class="c1">// Base case: direct citations</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">  </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Root Paper&#39;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">cited</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">  </span><span class="k">RETURN</span><span class="w"> </span><span class="n">cited</span>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">  </span><span class="k">UNION</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">  </span><span class="c1">// Recursive case: citations of citations</span>
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">  </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">:</span><span class="n">citation_chain</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">next</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">  </span><span class="k">RETURN</span><span class="w"> </span><span class="n">next</span>
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="p">)</span>
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">citation_chain</span><span class="p">)</span>
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<h3 id="recursive-path-finding">Recursive Path Finding<a class="headerlink" href="#recursive-path-finding" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="c1">// Find all ancestors in a hierarchy</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="k">WITH</span><span class="w"> </span><span class="n">RECURSIVE</span><span class="w"> </span><span class="n">ancestors</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">  </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="n">Category</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Machine Learning&#39;</span><span class="p">})</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">  </span><span class="k">RETURN</span><span class="w"> </span><span class="n">n</span>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">  </span><span class="k">UNION</span>
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="w">  </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">ancestors</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">PARENT</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">parent</span><span class="p">:</span><span class="n">Category</span><span class="p">)</span>
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="w">  </span><span class="k">RETURN</span><span class="w"> </span><span class="n">parent</span>
<a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="p">)</span>
<a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">ancestors</span><span class="p">)</span>
<a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">category_hierarchy</span>
</code></pre></div>
<hr />
<h2 id="explain-clause">EXPLAIN Clause<a class="headerlink" href="#explain-clause" title="Permanent link">&para;</a></h2>
<p>Inspect the query execution plan without running the query.</p>
<h3 id="basic-explain">Basic EXPLAIN<a class="headerlink" href="#basic-explain" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="c1">// Show query plan</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="n">EXPLAIN</span><span class="w"> </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">cited</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">cited</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(*)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">citation_count</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">citation_count</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span>
</code></pre></div>
<h3 id="understanding-the-plan">Understanding the Plan<a class="headerlink" href="#understanding-the-plan" title="Permanent link">&para;</a></h3>
<p>The EXPLAIN output shows:
- <strong>Scan operations</strong>: How data is accessed (index scan, full scan)
- <strong>Filter operations</strong>: Where predicates are applied
- <strong>Join operations</strong>: How patterns are matched
- <strong>Aggregation</strong>: Grouping and aggregation steps
- <strong>Sort/Limit</strong>: Final ordering and pagination
- <strong>Index usage</strong>: Which indexes are used and why
- <strong>Cost estimates</strong>: Estimated rows and query cost</p>
<h3 id="explain-output-example">EXPLAIN Output Example<a class="headerlink" href="#explain-output-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>Plan:
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a> Scan: Paper
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>   Filter: year &gt; 2020
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>     Index: paper_year_btree (BTREE) 
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a>   Estimated rows: 500
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a>   Cost: 12.5
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a> Expand: CITES (OUTGOING)
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a>   Estimated paths: 2500
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a>   Cost: 125.0
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a> Target: Paper
<a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a>    Estimated rows: 2500
<a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a>
<a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a>Index Usage:
<a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a>   Paper.year  paper_year_btree (BTREE)
<a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a>   Paper.venue  paper_venue_idx (not in filter)
<a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a>
<a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a>Total estimated cost: 137.5
</code></pre></div>
<hr />
<h2 id="profile-clause">PROFILE Clause<a class="headerlink" href="#profile-clause" title="Permanent link">&para;</a></h2>
<p>Execute the query with runtime statistics collection.</p>
<h3 id="basic-profile">Basic PROFILE<a class="headerlink" href="#basic-profile" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="c1">// Execute and collect statistics</span>
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="n">PROFILE</span><span class="w"> </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">cited</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">cited</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(*)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">citation_count</span>
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">citation_count</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span>
</code></pre></div>
<h3 id="profile-output">PROFILE Output<a class="headerlink" href="#profile-output" title="Permanent link">&para;</a></h3>
<p>PROFILE returns detailed execution metrics:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>Execution Profile:
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a> Scan: Paper
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>   Actual rows: 423
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>   Time: 12.3ms
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>   Index hits: 423
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a> Expand: CITES
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>   Actual paths: 1892
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a>   Time: 45.6ms
<a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a> Project
<a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a>    Actual rows: 1892
<a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a>    Time: 1.2ms
<a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a>
<a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a>Summary:
<a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a>  Total time: 59.1ms
<a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a>  Peak memory: 2.4MB
<a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a>  Rows returned: 1892
</code></pre></div>
<h3 id="using-profile-for-optimization">Using PROFILE for Optimization<a class="headerlink" href="#using-profile-for-optimization" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="c1">// Compare two query approaches</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="n">PROFILE</span><span class="w"> </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="c1">// vs</span>
<a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a>
<a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="n">PROFILE</span><span class="w"> </span><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m">2020</span>
<a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">AUTHORED</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<hr />
<h2 id="common-query-patterns">Common Query Patterns<a class="headerlink" href="#common-query-patterns" title="Permanent link">&para;</a></h2>
<h3 id="find-connected-nodes">Find Connected Nodes<a class="headerlink" href="#find-connected-nodes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="k">start</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Attention Is All You Need&#39;</span><span class="p">})</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="k">start</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">cited</span><span class="p">)</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">cited</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">cited</span><span class="p">.</span><span class="n">year</span>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">cited</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="k">DESC</span>
</code></pre></div>
<h3 id="bidirectional-relationships">Bidirectional Relationships<a class="headerlink" href="#bidirectional-relationships" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="c1">// Papers that cite each other</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">title</span>
</code></pre></div>
<h3 id="shortest-path-future">Shortest Path (Future)<a class="headerlink" href="#shortest-path-future" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="c1">// Shortest path between two nodes</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">shortestPath</span><span class="p">((</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">COAUTHOR</span><span class="p">*</span><span class="o">]-</span><span class="p">(</span><span class="n">b</span><span class="p">:</span><span class="n">Author</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Bob&#39;</span><span class="p">}))</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">path</span>
</code></pre></div>
<h3 id="degree-counting">Degree Counting<a class="headerlink" href="#degree-counting" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="c1">// Count outgoing relationships</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="o">-[</span><span class="n">c</span><span class="p">:</span><span class="n">CITES</span><span class="o">]-&gt;</span><span class="p">()</span>
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">COUNT</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">out_degree</span>
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">out_degree</span><span class="w"> </span><span class="k">DESC</span>
</code></pre></div>
<h3 id="top-k-with-ties">Top-K with Ties<a class="headerlink" href="#top-k-with-ties" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="k">WITH</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">citations</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">cites</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">cites</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span>
<a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">cites</span>
</code></pre></div>
<hr />
<h2 id="graph-algorithms">Graph Algorithms<a class="headerlink" href="#graph-algorithms" title="Permanent link">&para;</a></h2>
<p>Uni provides 36 high-performance graph algorithms available via the <code>algo</code> namespace.</p>
<h3 id="centrality-algorithms">Centrality Algorithms<a class="headerlink" href="#centrality-algorithms" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Procedure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PageRank</td>
<td><code>algo.pageRank</code></td>
<td>Importance based on incoming links</td>
</tr>
<tr>
<td>Betweenness</td>
<td><code>algo.betweenness</code></td>
<td>Nodes on shortest paths</td>
</tr>
<tr>
<td>Closeness</td>
<td><code>algo.closeness</code></td>
<td>Average distance to all nodes</td>
</tr>
<tr>
<td>Degree Centrality</td>
<td><code>algo.degreeCentrality</code></td>
<td>Connection count</td>
</tr>
<tr>
<td>Harmonic Centrality</td>
<td><code>algo.harmonicCentrality</code></td>
<td>Harmonic mean distance</td>
</tr>
<tr>
<td>Eigenvector Centrality</td>
<td><code>algo.eigenvectorCentrality</code></td>
<td>Influence via neighbors</td>
</tr>
<tr>
<td>Katz Centrality</td>
<td><code>algo.katzCentrality</code></td>
<td>Weighted path influence</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="c1">// PageRank</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">pageRank</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Paper&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;CITES&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">score</span>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">score</span>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="k">DESC</span>
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a>
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="c1">// Betweenness Centrality</span>
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">betweenness</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Author&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;COAUTHOR&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">)</span>
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">score</span>
<a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a>
<a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="c1">// Closeness Centrality</span>
<a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">closeness</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Station&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;CONNECTS&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">score</span>
</code></pre></div>
<h3 id="community-detection-algorithms">Community Detection Algorithms<a class="headerlink" href="#community-detection-algorithms" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Procedure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Louvain</td>
<td><code>algo.louvain</code></td>
<td>Modularity-based community detection</td>
</tr>
<tr>
<td>Label Propagation</td>
<td><code>algo.labelPropagation</code></td>
<td>Fast community detection</td>
</tr>
<tr>
<td>WCC</td>
<td><code>algo.wcc</code></td>
<td>Weakly connected components</td>
</tr>
<tr>
<td>SCC</td>
<td><code>algo.scc</code></td>
<td>Strongly connected components</td>
</tr>
<tr>
<td>K-Core</td>
<td><code>algo.kCore</code></td>
<td>K-core decomposition</td>
</tr>
<tr>
<td>Triangle Count</td>
<td><code>algo.triangleCount</code></td>
<td>Count triangles per node</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="c1">// Louvain</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">louvain</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;User&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;INTERACTS&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">communityId</span>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="c1">// Label Propagation</span>
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">labelPropagation</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;User&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;INTERACTS&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">communityId</span>
<a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a>
<a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="c1">// Weakly Connected Components</span>
<a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">wcc</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;User&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;INTERACTS&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">componentId</span>
<a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a>
<a id="__codelineno-69-13" name="__codelineno-69-13" href="#__codelineno-69-13"></a><span class="c1">// Strongly Connected Components</span>
<a id="__codelineno-69-14" name="__codelineno-69-14" href="#__codelineno-69-14"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">scc</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Task&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;DEPENDS_ON&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-69-15" name="__codelineno-69-15" href="#__codelineno-69-15"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">componentId</span>
<a id="__codelineno-69-16" name="__codelineno-69-16" href="#__codelineno-69-16"></a>
<a id="__codelineno-69-17" name="__codelineno-69-17" href="#__codelineno-69-17"></a><span class="c1">// K-Core Decomposition</span>
<a id="__codelineno-69-18" name="__codelineno-69-18" href="#__codelineno-69-18"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">kCore</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;User&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;FRIEND&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<a id="__codelineno-69-19" name="__codelineno-69-19" href="#__codelineno-69-19"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">coreNumber</span>
<a id="__codelineno-69-20" name="__codelineno-69-20" href="#__codelineno-69-20"></a>
<a id="__codelineno-69-21" name="__codelineno-69-21" href="#__codelineno-69-21"></a><span class="c1">// Triangle Count</span>
<a id="__codelineno-69-22" name="__codelineno-69-22" href="#__codelineno-69-22"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">triangleCount</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;User&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;FRIEND&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-69-23" name="__codelineno-69-23" href="#__codelineno-69-23"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="n">triangleCount</span>
</code></pre></div>
<h3 id="path-finding-algorithms">Path Finding Algorithms<a class="headerlink" href="#path-finding-algorithms" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Procedure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dijkstra</td>
<td><code>algo.dijkstra</code></td>
<td>Shortest weighted path</td>
</tr>
<tr>
<td>Bellman-Ford</td>
<td><code>algo.bellmanFord</code></td>
<td>Shortest path with negative weights</td>
</tr>
<tr>
<td>A*</td>
<td><code>algo.astar</code></td>
<td>Heuristic shortest path</td>
</tr>
<tr>
<td>Bidirectional Dijkstra</td>
<td><code>algo.bidirectionalDijkstra</code></td>
<td>Two-way shortest path</td>
</tr>
<tr>
<td>K-Shortest Paths</td>
<td><code>algo.kShortestPaths</code></td>
<td>Multiple shortest paths</td>
</tr>
<tr>
<td>All Simple Paths</td>
<td><code>algo.allSimplePaths</code></td>
<td>All paths between nodes</td>
</tr>
<tr>
<td>APSP</td>
<td><code>algo.allPairsShortestPath</code></td>
<td>All pairs shortest path</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="c1">// Dijkstra shortest path</span>
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">dijkstra</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Station&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;CONNECTS&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="n">startId</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="n">endId</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;distance&#39;</span><span class="p">)</span>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="c1">// K-Shortest Paths</span>
<a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">kShortestPaths</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Station&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;CONNECTS&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="n">startId</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="n">endId</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span>
<a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span>
<a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a>
<a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a><span class="c1">// All Pairs Shortest Path</span>
<a id="__codelineno-70-10" name="__codelineno-70-10" href="#__codelineno-70-10"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">allPairsShortestPath</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Station&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;CONNECTS&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-70-11" name="__codelineno-70-11" href="#__codelineno-70-11"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">sourceNodeId</span><span class="p">,</span><span class="w"> </span><span class="n">targetNodeId</span><span class="p">,</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
<h3 id="similarity-traversal-algorithms">Similarity &amp; Traversal Algorithms<a class="headerlink" href="#similarity-traversal-algorithms" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Procedure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node Similarity</td>
<td><code>algo.nodeSimilarity</code></td>
<td>Jaccard similarity</td>
</tr>
<tr>
<td>Random Walk</td>
<td><code>algo.randomWalk</code></td>
<td>Random graph traversal</td>
</tr>
<tr>
<td>Maximal Cliques</td>
<td><code>algo.maximalCliques</code></td>
<td>Find all maximal cliques</td>
</tr>
<tr>
<td>Graph Coloring</td>
<td><code>algo.graphColoring</code></td>
<td>Vertex coloring</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="c1">// Node Similarity (Jaccard)</span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">nodeSimilarity</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Product&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;PURCHASED&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">node1</span><span class="p">,</span><span class="w"> </span><span class="n">node2</span><span class="p">,</span><span class="w"> </span><span class="n">similarity</span>
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="c1">// Random Walk</span>
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">randomWalk</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Page&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;LINKS&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span>
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">path</span>
</code></pre></div>
<h3 id="structural-analysis-algorithms">Structural Analysis Algorithms<a class="headerlink" href="#structural-analysis-algorithms" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Procedure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Topological Sort</td>
<td><code>algo.topologicalSort</code></td>
<td>DAG ordering</td>
</tr>
<tr>
<td>Cycle Detection</td>
<td><code>algo.cycleDetection</code></td>
<td>Find cycles</td>
</tr>
<tr>
<td>Bipartite Check</td>
<td><code>algo.bipartiteCheck</code></td>
<td>Test bipartiteness</td>
</tr>
<tr>
<td>Bridges</td>
<td><code>algo.bridges</code></td>
<td>Find bridge edges</td>
</tr>
<tr>
<td>Articulation Points</td>
<td><code>algo.articulationPoints</code></td>
<td>Find cut vertices</td>
</tr>
<tr>
<td>Elementary Circuits</td>
<td><code>algo.elementaryCircuits</code></td>
<td>Find all simple cycles</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="c1">// Topological sort (for DAGs)</span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">topologicalSort</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Task&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;DEPENDS_ON&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span><span class="p">,</span><span class="w"> </span><span class="k">order</span>
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="c1">// Find articulation points</span>
<a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">articulationPoints</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Router&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;CONNECTS&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">nodeId</span>
</code></pre></div>
<h3 id="flow-matching-algorithms">Flow &amp; Matching Algorithms<a class="headerlink" href="#flow-matching-algorithms" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Procedure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maximum Matching</td>
<td><code>algo.maxMatching</code></td>
<td>Maximum cardinality matching</td>
</tr>
<tr>
<td>Minimum Spanning Tree</td>
<td><code>algo.mst</code></td>
<td>MST using Prim/Kruskal</td>
</tr>
<tr>
<td>Dinic's Algorithm</td>
<td><code>algo.dinic</code></td>
<td>Maximum flow</td>
</tr>
<tr>
<td>Ford-Fulkerson</td>
<td><code>algo.fordFulkerson</code></td>
<td>Maximum flow</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="c1">// Minimum Spanning Tree</span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">mst</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;City&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;ROAD&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;distance&#39;</span><span class="p">)</span>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">edge</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a>
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="c1">// Maximum Matching</span>
<a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="k">CALL</span><span class="w"> </span><span class="n">algo</span><span class="p">.</span><span class="n">maxMatching</span><span class="p">(</span><span class="o">[</span><span class="s">&#39;Worker&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Job&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;CAN_DO&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">node1</span><span class="p">,</span><span class="w"> </span><span class="n">node2</span>
</code></pre></div>
<hr />
<h2 id="schema-ddl">Schema DDL<a class="headerlink" href="#schema-ddl" title="Permanent link">&para;</a></h2>
<p>Uni supports Data Definition Language (DDL) statements for managing schema.</p>
<h3 id="create-label-vertex-type">Create Label (Vertex Type)<a class="headerlink" href="#create-label-vertex-type" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="c1">// Create a label with properties</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">LABEL</span><span class="w"> </span><span class="n">Paper</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="w">  </span><span class="n">title</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="w">  </span><span class="n">year</span><span class="w"> </span><span class="n">INT32</span><span class="p">,</span>
<a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="w">  </span><span class="n">abstract</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span>
<a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">  </span><span class="n">embedding</span><span class="w"> </span><span class="n">VECTOR</span><span class="p">(</span><span class="m">768</span><span class="p">)</span>
<a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="p">)</span>
<a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a>
<a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="c1">// Create label with default values</span>
<a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">LABEL</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a><span class="w">  </span><span class="n">h_index</span><span class="w"> </span><span class="n">INT32</span><span class="w"> </span><span class="n">DEFAULT</span><span class="w"> </span><span class="m">0</span><span class="p">,</span>
<a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a><span class="w">  </span><span class="n">active</span><span class="w"> </span><span class="n">BOOLEAN</span><span class="w"> </span><span class="n">DEFAULT</span><span class="w"> </span><span class="k">true</span>
<a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a><span class="p">)</span>
</code></pre></div>
<h3 id="create-edge-type">Create Edge Type<a class="headerlink" href="#create-edge-type" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="c1">// Create edge type with source/destination constraints</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">EDGE</span><span class="w"> </span><span class="n">TYPE</span><span class="w"> </span><span class="n">AUTHORED</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="n">TO</span><span class="w"> </span><span class="n">Paper</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="w">  </span><span class="n">position</span><span class="w"> </span><span class="n">INT32</span><span class="p">,</span>
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="w">  </span><span class="n">corresponding</span><span class="w"> </span><span class="n">BOOLEAN</span><span class="w"> </span><span class="n">DEFAULT</span><span class="w"> </span><span class="k">false</span>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="p">)</span>
<a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a>
<a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="c1">// Edge type between multiple label types</span>
<a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">EDGE</span><span class="w"> </span><span class="n">TYPE</span><span class="w"> </span><span class="n">COLLABORATES</span><span class="w"> </span><span class="n">FROM</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="n">TO</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a><span class="w">  </span><span class="n">papers_count</span><span class="w"> </span><span class="n">INT32</span>
<a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a><span class="p">)</span>
</code></pre></div>
<h3 id="alter-schema">Alter Schema<a class="headerlink" href="#alter-schema" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="c1">// Add a property to an existing label</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="n">ALTER</span><span class="w"> </span><span class="n">LABEL</span><span class="w"> </span><span class="n">Paper</span><span class="w"> </span><span class="n">ADD</span><span class="w"> </span><span class="n">abstract</span><span class="w"> </span><span class="n">STRING</span>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>
<a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="c1">// Drop a property</span>
<a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="n">ALTER</span><span class="w"> </span><span class="n">LABEL</span><span class="w"> </span><span class="n">Paper</span><span class="w"> </span><span class="n">DROP</span><span class="w"> </span><span class="n">deprecated_field</span>
<a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a>
<a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="c1">// Rename a property</span>
<a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="n">ALTER</span><span class="w"> </span><span class="n">LABEL</span><span class="w"> </span><span class="n">Paper</span><span class="w"> </span><span class="n">RENAME</span><span class="w"> </span><span class="n">old_name</span><span class="w"> </span><span class="n">TO</span><span class="w"> </span><span class="n">new_name</span>
</code></pre></div>
<h3 id="drop-schema-elements">Drop Schema Elements<a class="headerlink" href="#drop-schema-elements" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="c1">// Drop a label (must have no vertices)</span>
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="n">DROP</span><span class="w"> </span><span class="n">LABEL</span><span class="w"> </span><span class="n">TempLabel</span>
<a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>
<a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="c1">// Drop an edge type</span>
<a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="n">DROP</span><span class="w"> </span><span class="n">EDGE</span><span class="w"> </span><span class="n">TYPE</span><span class="w"> </span><span class="n">OLD_RELATIONSHIP</span>
</code></pre></div>
<hr />
<h2 id="constraints">Constraints<a class="headerlink" href="#constraints" title="Permanent link">&para;</a></h2>
<p>Define and manage data integrity constraints.</p>
<h3 id="create-constraints">Create Constraints<a class="headerlink" href="#create-constraints" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="c1">// Unique constraint</span>
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">CONSTRAINT</span><span class="w"> </span><span class="n">paper_doi_unique</span>
<a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="w"> </span><span class="n">REQUIRE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">doi</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">UNIQUE</span>
<a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a>
<a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a><span class="c1">// Existence constraint (property must be present)</span>
<a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">CONSTRAINT</span><span class="w"> </span><span class="n">author_name_exists</span>
<a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a><span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="n">Author</span><span class="p">)</span><span class="w"> </span><span class="n">REQUIRE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="n">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a>
<a id="__codelineno-78-9" name="__codelineno-78-9" href="#__codelineno-78-9"></a><span class="c1">// Check constraint (custom validation)</span>
<a id="__codelineno-78-10" name="__codelineno-78-10" href="#__codelineno-78-10"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">CONSTRAINT</span><span class="w"> </span><span class="n">paper_year_valid</span>
<a id="__codelineno-78-11" name="__codelineno-78-11" href="#__codelineno-78-11"></a><span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="p">)</span><span class="w"> </span><span class="n">REQUIRE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="m">1900</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="p">&lt;=</span><span class="w"> </span><span class="m">2100</span>
</code></pre></div>
<h3 id="show-constraints">Show Constraints<a class="headerlink" href="#show-constraints" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="c1">// List all constraints</span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="n">SHOW</span><span class="w"> </span><span class="n">CONSTRAINTS</span>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a>
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="c1">// Filter by label</span>
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="n">SHOW</span><span class="w"> </span><span class="n">CONSTRAINTS</span><span class="w"> </span><span class="n">FOR</span><span class="w"> </span><span class="p">:</span><span class="n">Paper</span>
</code></pre></div>
<h3 id="drop-constraints">Drop Constraints<a class="headerlink" href="#drop-constraints" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="n">DROP</span><span class="w"> </span><span class="n">CONSTRAINT</span><span class="w"> </span><span class="n">paper_doi_unique</span>
</code></pre></div>
<hr />
<h2 id="database-management">Database Management<a class="headerlink" href="#database-management" title="Permanent link">&para;</a></h2>
<p>Administrative commands and procedures for database maintenance.</p>
<h3 id="backup">BACKUP<a class="headerlink" href="#backup" title="Permanent link">&para;</a></h3>
<p>Create a backup of the database to a specified destination.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="c1">// Backup to local path</span>
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="n">BACKUP</span><span class="w"> </span><span class="n">TO</span><span class="w"> </span><span class="s">&#39;./backups/backup_2026_01_17&#39;</span>
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a>
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="c1">// Backup to S3</span>
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="n">BACKUP</span><span class="w"> </span><span class="n">TO</span><span class="w"> </span><span class="s">&#39;s3://my-bucket/backups/backup_2026_01_17&#39;</span>
<a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a>
<a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a><span class="c1">// Backup with options</span>
<a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a><span class="n">BACKUP</span><span class="w"> </span><span class="n">TO</span><span class="w"> </span><span class="s">&#39;./backups/full&#39;</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">incremental</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="n">compress</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span>
</code></pre></div>
<h3 id="vacuum">VACUUM<a class="headerlink" href="#vacuum" title="Permanent link">&para;</a></h3>
<p>Reclaim storage space by removing deleted data and compacting files.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="c1">// Perform vacuum operation</span>
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="n">VACUUM</span>
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a>
<a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="c1">// Note: VACUUM may take time on large databases</span>
<a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="c1">// and temporarily increases I/O load</span>
</code></pre></div>
<h3 id="checkpoint">CHECKPOINT<a class="headerlink" href="#checkpoint" title="Permanent link">&para;</a></h3>
<p>Force a checkpoint to flush all pending writes to durable storage.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="c1">// Force checkpoint</span>
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="n">CHECKPOINT</span>
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a>
<a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="c1">// Useful before taking external backups</span>
<a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="c1">// or when durability guarantee is needed immediately</span>
</code></pre></div>
<h3 id="compaction">Compaction<a class="headerlink" href="#compaction" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="c1">// Trigger storage compaction</span>
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">compact</span><span class="p">()</span>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">fragmentsCompacted</span><span class="p">,</span><span class="w"> </span><span class="n">bytesReclaimed</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span>
<a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a>
<a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="c1">// Check compaction status</span>
<a id="__codelineno-84-6" name="__codelineno-84-6" href="#__codelineno-84-6"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">compactionStatus</span><span class="p">()</span>
<a id="__codelineno-84-7" name="__codelineno-84-7" href="#__codelineno-84-7"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">progress</span><span class="p">,</span><span class="w"> </span><span class="n">estimatedRemaining</span>
</code></pre></div>
<h3 id="snapshots">Snapshots<a class="headerlink" href="#snapshots" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="c1">// Create a named snapshot</span>
<a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">snapshot</span><span class="p">.</span><span class="k">create</span><span class="p">(</span><span class="s">&#39;before_migration&#39;</span><span class="p">)</span>
<a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">created</span><span class="p">,</span><span class="w"> </span><span class="n">size</span>
<a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a>
<a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="c1">// List available snapshots</span>
<a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">snapshot</span><span class="p">.</span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">created</span><span class="p">,</span><span class="w"> </span><span class="n">size</span>
<a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a>
<a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="c1">// Restore to a snapshot</span>
<a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">snapshot</span><span class="p">.</span><span class="n">restore</span><span class="p">(</span><span class="s">&#39;before_migration&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="schema-introspection_1">Schema Introspection<a class="headerlink" href="#schema-introspection_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="c1">// List all labels</span>
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">labels</span><span class="p">()</span>
<a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">label</span><span class="p">,</span><span class="w"> </span><span class="n">propertyCount</span><span class="p">,</span><span class="w"> </span><span class="n">nodeCount</span><span class="p">,</span><span class="w"> </span><span class="n">indexCount</span>
<a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">label</span><span class="p">,</span><span class="w"> </span><span class="n">nodeCount</span>
<a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a>
<a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="c1">// List all relationship types</span>
<a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">relationshipTypes</span><span class="p">()</span>
<a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">sourceLabels</span><span class="p">,</span><span class="w"> </span><span class="n">targetLabels</span><span class="p">,</span><span class="w"> </span><span class="n">propertyCount</span>
<a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">type</span>
<a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a>
<a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a><span class="c1">// List all edge types (alias)</span>
<a id="__codelineno-86-12" name="__codelineno-86-12" href="#__codelineno-86-12"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">edgeTypes</span><span class="p">()</span>
<a id="__codelineno-86-13" name="__codelineno-86-13" href="#__codelineno-86-13"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">sourceLabels</span><span class="p">,</span><span class="w"> </span><span class="n">targetLabels</span><span class="p">,</span><span class="w"> </span><span class="n">propertyCount</span>
<a id="__codelineno-86-14" name="__codelineno-86-14" href="#__codelineno-86-14"></a>
<a id="__codelineno-86-15" name="__codelineno-86-15" href="#__codelineno-86-15"></a><span class="c1">// List all indexes</span>
<a id="__codelineno-86-16" name="__codelineno-86-16" href="#__codelineno-86-16"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">indexes</span><span class="p">()</span>
<a id="__codelineno-86-17" name="__codelineno-86-17" href="#__codelineno-86-17"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">,</span><span class="w"> </span><span class="n">properties</span><span class="p">,</span><span class="w"> </span><span class="n">state</span>
<a id="__codelineno-86-18" name="__codelineno-86-18" href="#__codelineno-86-18"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;VECTOR&#39;</span>
<a id="__codelineno-86-19" name="__codelineno-86-19" href="#__codelineno-86-19"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">label</span>
<a id="__codelineno-86-20" name="__codelineno-86-20" href="#__codelineno-86-20"></a>
<a id="__codelineno-86-21" name="__codelineno-86-21" href="#__codelineno-86-21"></a><span class="c1">// List all constraints</span>
<a id="__codelineno-86-22" name="__codelineno-86-22" href="#__codelineno-86-22"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">constraints</span><span class="p">()</span>
<a id="__codelineno-86-23" name="__codelineno-86-23" href="#__codelineno-86-23"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">,</span><span class="w"> </span><span class="n">properties</span><span class="p">,</span><span class="w"> </span><span class="n">enabled</span>
<a id="__codelineno-86-24" name="__codelineno-86-24" href="#__codelineno-86-24"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">type</span>
<a id="__codelineno-86-25" name="__codelineno-86-25" href="#__codelineno-86-25"></a>
<a id="__codelineno-86-26" name="__codelineno-86-26" href="#__codelineno-86-26"></a><span class="c1">// Get detailed label info</span>
<a id="__codelineno-86-27" name="__codelineno-86-27" href="#__codelineno-86-27"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">labelInfo</span><span class="p">(</span><span class="s">&#39;Paper&#39;</span><span class="p">)</span>
<a id="__codelineno-86-28" name="__codelineno-86-28" href="#__codelineno-86-28"></a><span class="k">YIELD</span><span class="w"> </span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="n">dataType</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="p">,</span><span class="w"> </span><span class="n">indexed</span><span class="p">,</span><span class="w"> </span><span class="n">unique</span>
<a id="__codelineno-86-29" name="__codelineno-86-29" href="#__codelineno-86-29"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="n">dataType</span>
</code></pre></div>
<h3 id="schema-ddl-procedures">Schema DDL Procedures<a class="headerlink" href="#schema-ddl-procedures" title="Permanent link">&para;</a></h3>
<p>Create and modify schema at runtime via procedures:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="c1">// Create a new label</span>
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">createLabel</span><span class="p">(</span><span class="s">&#39;Product&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">  </span><span class="n">properties</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">    </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;STRING&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="w">    </span><span class="n">price</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;FLOAT64&#39;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-87-6" name="__codelineno-87-6" href="#__codelineno-87-6"></a><span class="w">    </span><span class="n">embedding</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;VECTOR&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">dimensions</span><span class="p">:</span><span class="w"> </span><span class="m">128</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-87-7" name="__codelineno-87-7" href="#__codelineno-87-7"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-87-8" name="__codelineno-87-8" href="#__codelineno-87-8"></a><span class="p">})</span>
<a id="__codelineno-87-9" name="__codelineno-87-9" href="#__codelineno-87-9"></a>
<a id="__codelineno-87-10" name="__codelineno-87-10" href="#__codelineno-87-10"></a><span class="c1">// Create an edge type</span>
<a id="__codelineno-87-11" name="__codelineno-87-11" href="#__codelineno-87-11"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">createEdgeType</span><span class="p">(</span><span class="s">&#39;PURCHASED&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;Customer&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;Product&#39;</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-12" name="__codelineno-87-12" href="#__codelineno-87-12"></a><span class="w">  </span><span class="n">properties</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-13" name="__codelineno-87-13" href="#__codelineno-87-13"></a><span class="w">    </span><span class="n">quantity</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;INT32&#39;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-87-14" name="__codelineno-87-14" href="#__codelineno-87-14"></a><span class="w">    </span><span class="n">timestamp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;TIMESTAMP&#39;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-87-15" name="__codelineno-87-15" href="#__codelineno-87-15"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-87-16" name="__codelineno-87-16" href="#__codelineno-87-16"></a><span class="p">})</span>
<a id="__codelineno-87-17" name="__codelineno-87-17" href="#__codelineno-87-17"></a>
<a id="__codelineno-87-18" name="__codelineno-87-18" href="#__codelineno-87-18"></a><span class="c1">// Create an index</span>
<a id="__codelineno-87-19" name="__codelineno-87-19" href="#__codelineno-87-19"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">createIndex</span><span class="p">(</span><span class="s">&#39;Product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;BTREE&#39;</span><span class="w"> </span><span class="p">})</span>
<a id="__codelineno-87-20" name="__codelineno-87-20" href="#__codelineno-87-20"></a>
<a id="__codelineno-87-21" name="__codelineno-87-21" href="#__codelineno-87-21"></a><span class="c1">// Create a vector index</span>
<a id="__codelineno-87-22" name="__codelineno-87-22" href="#__codelineno-87-22"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">createIndex</span><span class="p">(</span><span class="s">&#39;Product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;embedding&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-23" name="__codelineno-87-23" href="#__codelineno-87-23"></a><span class="w">  </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;VECTOR&#39;</span><span class="p">,</span>
<a id="__codelineno-87-24" name="__codelineno-87-24" href="#__codelineno-87-24"></a><span class="w">  </span><span class="n">metric</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;cosine&#39;</span><span class="p">,</span>
<a id="__codelineno-87-25" name="__codelineno-87-25" href="#__codelineno-87-25"></a><span class="w">  </span><span class="n">index_type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;hnsw&#39;</span><span class="p">,</span>
<a id="__codelineno-87-26" name="__codelineno-87-26" href="#__codelineno-87-26"></a><span class="w">  </span><span class="n">m</span><span class="p">:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span>
<a id="__codelineno-87-27" name="__codelineno-87-27" href="#__codelineno-87-27"></a><span class="w">  </span><span class="n">ef_construction</span><span class="p">:</span><span class="w"> </span><span class="m">200</span>
<a id="__codelineno-87-28" name="__codelineno-87-28" href="#__codelineno-87-28"></a><span class="p">})</span>
<a id="__codelineno-87-29" name="__codelineno-87-29" href="#__codelineno-87-29"></a>
<a id="__codelineno-87-30" name="__codelineno-87-30" href="#__codelineno-87-30"></a><span class="c1">// Create a constraint</span>
<a id="__codelineno-87-31" name="__codelineno-87-31" href="#__codelineno-87-31"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">createConstraint</span><span class="p">(</span><span class="s">&#39;Product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;UNIQUE&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;sku&#39;</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-87-32" name="__codelineno-87-32" href="#__codelineno-87-32"></a>
<a id="__codelineno-87-33" name="__codelineno-87-33" href="#__codelineno-87-33"></a><span class="c1">// Drop operations</span>
<a id="__codelineno-87-34" name="__codelineno-87-34" href="#__codelineno-87-34"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">dropLabel</span><span class="p">(</span><span class="s">&#39;TempLabel&#39;</span><span class="p">)</span>
<a id="__codelineno-87-35" name="__codelineno-87-35" href="#__codelineno-87-35"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">dropEdgeType</span><span class="p">(</span><span class="s">&#39;OLD_RELATIONSHIP&#39;</span><span class="p">)</span>
<a id="__codelineno-87-36" name="__codelineno-87-36" href="#__codelineno-87-36"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">dropIndex</span><span class="p">(</span><span class="s">&#39;Product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;old_index&#39;</span><span class="p">)</span>
<a id="__codelineno-87-37" name="__codelineno-87-37" href="#__codelineno-87-37"></a><span class="k">CALL</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="n">dropConstraint</span><span class="p">(</span><span class="s">&#39;Product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;constraint_name&#39;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="crdt-properties">CRDT Properties<a class="headerlink" href="#crdt-properties" title="Permanent link">&para;</a></h2>
<p>Uni supports CRDT (Conflict-free Replicated Data Type) properties for distributed, eventually-consistent data. CRDT properties can be defined in the schema and manipulated via Cypher.</p>
<h3 id="schema-definition">Schema Definition<a class="headerlink" href="#schema-definition" title="Permanent link">&para;</a></h3>
<p>Define CRDT properties in your schema:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="p">{</span>
<a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">    </span><span class="nt">&quot;Paper&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;String&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="w">      </span><span class="nt">&quot;view_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Crdt&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;crdt_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GCounter&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="w">      </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Crdt&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;crdt_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ORSet&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-88-7" name="__codelineno-88-7" href="#__codelineno-88-7"></a><span class="w">      </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Crdt&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;crdt_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;LWWMap&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-88-8" name="__codelineno-88-8" href="#__codelineno-88-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-88-9" name="__codelineno-88-9" href="#__codelineno-88-9"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-88-10" name="__codelineno-88-10" href="#__codelineno-88-10"></a><span class="p">}</span>
</code></pre></div>
<h3 id="supported-crdt-types">Supported CRDT Types<a class="headerlink" href="#supported-crdt-types" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
<th>Cypher Operations</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GCounter</code></td>
<td>Grow-only counter</td>
<td>Increment only</td>
</tr>
<tr>
<td><code>GSet</code></td>
<td>Grow-only set</td>
<td>Add only</td>
</tr>
<tr>
<td><code>ORSet</code></td>
<td>Add/remove set (add-wins)</td>
<td>Add, remove</td>
</tr>
<tr>
<td><code>LWWRegister</code></td>
<td>Single value (last-writer-wins)</td>
<td>Set value</td>
</tr>
<tr>
<td><code>LWWMap</code></td>
<td>Key-value map (per-key LWW)</td>
<td>Put, remove keys</td>
</tr>
<tr>
<td><code>Rga</code></td>
<td>Ordered sequence</td>
<td>Insert, delete at position</td>
</tr>
</tbody>
</table>
<h3 id="querying-crdt-properties">Querying CRDT Properties<a class="headerlink" href="#querying-crdt-properties" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="c1">// Read CRDT values (returns materialized value)</span>
<a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;paper_001&#39;</span><span class="p">})</span>
<a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">view_count</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">tags</span>
<a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a>
<a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="c1">// GCounter returns total count</span>
<a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="c1">// ORSet returns list of visible elements</span>
<a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="c1">// LWWMap returns map of non-tombstoned entries</span>
</code></pre></div>
<h3 id="updating-crdt-properties">Updating CRDT Properties<a class="headerlink" href="#updating-crdt-properties" title="Permanent link">&para;</a></h3>
<p>CRDT updates use special syntax to ensure conflict-free merging:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="c1">// Increment a GCounter</span>
<a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;paper_001&#39;</span><span class="p">})</span>
<a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="k">SET</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">view_count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">crdt</span><span class="p">.</span><span class="n">increment</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">view_count</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a>
<a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="c1">// Add to an ORSet</span>
<a id="__codelineno-90-6" name="__codelineno-90-6" href="#__codelineno-90-6"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;paper_001&#39;</span><span class="p">})</span>
<a id="__codelineno-90-7" name="__codelineno-90-7" href="#__codelineno-90-7"></a><span class="k">SET</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">tags</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">crdt</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">tags</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;machine-learning&#39;</span><span class="p">)</span>
<a id="__codelineno-90-8" name="__codelineno-90-8" href="#__codelineno-90-8"></a>
<a id="__codelineno-90-9" name="__codelineno-90-9" href="#__codelineno-90-9"></a><span class="c1">// Remove from an ORSet</span>
<a id="__codelineno-90-10" name="__codelineno-90-10" href="#__codelineno-90-10"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;paper_001&#39;</span><span class="p">})</span>
<a id="__codelineno-90-11" name="__codelineno-90-11" href="#__codelineno-90-11"></a><span class="k">SET</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">tags</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">crdt</span><span class="p">.</span><span class="k">remove</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">tags</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;deprecated-tag&#39;</span><span class="p">)</span>
<a id="__codelineno-90-12" name="__codelineno-90-12" href="#__codelineno-90-12"></a>
<a id="__codelineno-90-13" name="__codelineno-90-13" href="#__codelineno-90-13"></a><span class="c1">// Update LWWMap</span>
<a id="__codelineno-90-14" name="__codelineno-90-14" href="#__codelineno-90-14"></a><span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Paper</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;paper_001&#39;</span><span class="p">})</span>
<a id="__codelineno-90-15" name="__codelineno-90-15" href="#__codelineno-90-15"></a><span class="k">SET</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">metadata</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">crdt</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">metadata</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;reviewed&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
</code></pre></div>
<h3 id="crdt-functions">CRDT Functions<a class="headerlink" href="#crdt-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>CRDT Types</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>crdt.increment(counter, n)</code></td>
<td>GCounter</td>
<td>Increment by n</td>
</tr>
<tr>
<td><code>crdt.add(set, elem)</code></td>
<td>GSet, ORSet</td>
<td>Add element</td>
</tr>
<tr>
<td><code>crdt.remove(set, elem)</code></td>
<td>ORSet</td>
<td>Remove element</td>
</tr>
<tr>
<td><code>crdt.set(register, value)</code></td>
<td>LWWRegister</td>
<td>Set value</td>
</tr>
<tr>
<td><code>crdt.put(map, key, value)</code></td>
<td>LWWMap</td>
<td>Put key-value</td>
</tr>
<tr>
<td><code>crdt.delete(map, key)</code></td>
<td>LWWMap</td>
<td>Delete key</td>
</tr>
<tr>
<td><code>crdt.insert(rga, index, elem)</code></td>
<td>Rga</td>
<td>Insert at position</td>
</tr>
<tr>
<td><code>crdt.deleteAt(rga, index)</code></td>
<td>Rga</td>
<td>Delete at position</td>
</tr>
</tbody>
</table>
<h3 id="distributed-sync">Distributed Sync<a class="headerlink" href="#distributed-sync" title="Permanent link">&para;</a></h3>
<p>CRDT properties enable conflict-free synchronization across distributed nodes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a>         
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a>   Node A       Node B    
<a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a>                                   
<a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a> increment             increment   
<a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a> view_count            view_count  
<a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a>    +5                    +3       
<a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a>         
<a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a>                              
<a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a>       
<a id="__codelineno-91-10" name="__codelineno-91-10" href="#__codelineno-91-10"></a>                   
<a id="__codelineno-91-11" name="__codelineno-91-11" href="#__codelineno-91-11"></a>                   
<a id="__codelineno-91-12" name="__codelineno-91-12" href="#__codelineno-91-12"></a>            
<a id="__codelineno-91-13" name="__codelineno-91-13" href="#__codelineno-91-13"></a>               Merged    
<a id="__codelineno-91-14" name="__codelineno-91-14" href="#__codelineno-91-14"></a>             view_count  
<a id="__codelineno-91-15" name="__codelineno-91-15" href="#__codelineno-91-15"></a>                 = 8     
<a id="__codelineno-91-16" name="__codelineno-91-16" href="#__codelineno-91-16"></a>            
</code></pre></div>
<p>For detailed CRDT semantics and merge behavior, see <a href="../../concepts/crdt-types/">CRDT Types</a>.</p>
<hr />
<h2 id="cypher-feature-status">Cypher Feature Status<a class="headerlink" href="#cypher-feature-status" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>MATCH (basic patterns)</td>
<td>Stable</td>
</tr>
<tr>
<td>WHERE (comparisons, boolean)</td>
<td>Stable</td>
</tr>
<tr>
<td>RETURN, ORDER BY, LIMIT, SKIP</td>
<td>Stable</td>
</tr>
<tr>
<td>Aggregations (COUNT, SUM, AVG, MIN, MAX, COLLECT)</td>
<td>Stable</td>
</tr>
<tr>
<td>Window Functions (OVER clause)</td>
<td>Stable</td>
</tr>
<tr>
<td>Scalar Functions (40+ functions)</td>
<td>Stable</td>
</tr>
<tr>
<td>CREATE (nodes and relationships)</td>
<td>Stable</td>
</tr>
<tr>
<td>WITH clause</td>
<td>Stable</td>
</tr>
<tr>
<td>UNWIND</td>
<td>Stable</td>
</tr>
<tr>
<td>CALL procedures</td>
<td>Stable</td>
</tr>
<tr>
<td>Index management</td>
<td>Stable</td>
</tr>
<tr>
<td>JSON Full-Text Search (CONTAINS)</td>
<td>Stable</td>
</tr>
<tr>
<td>Variable-length paths (<code>*1..3</code>)</td>
<td>Stable</td>
</tr>
<tr>
<td>MERGE</td>
<td>Stable</td>
</tr>
<tr>
<td>SET / REMOVE</td>
<td>Stable</td>
</tr>
<tr>
<td>DELETE / DETACH DELETE</td>
<td>Stable</td>
</tr>
<tr>
<td>UNION / UNION ALL</td>
<td>Stable</td>
</tr>
<tr>
<td>WITH RECURSIVE (CTEs)</td>
<td>Stable</td>
</tr>
<tr>
<td>EXPLAIN (with index usage)</td>
<td>Stable</td>
</tr>
<tr>
<td>PROFILE (runtime statistics)</td>
<td>Stable</td>
</tr>
<tr>
<td>Session Variables (<code>$session.*</code>)</td>
<td>Stable</td>
</tr>
<tr>
<td>Temporal Queries (<code>uni.validAt</code>, <code>VALID_AT</code>)</td>
<td>Stable</td>
</tr>
<tr>
<td>Schema DDL (CREATE/ALTER/DROP LABEL)</td>
<td>Stable</td>
</tr>
<tr>
<td>Schema DDL Procedures (<code>db.createLabel</code>, etc.)</td>
<td>Stable</td>
</tr>
<tr>
<td>Constraints (UNIQUE, EXISTS, CHECK)</td>
<td>Stable</td>
</tr>
<tr>
<td>Composite Key Constraints</td>
<td>Stable</td>
</tr>
<tr>
<td>Graph Algorithms (36 algorithms)</td>
<td>Stable</td>
</tr>
<tr>
<td>CRDT Properties</td>
<td>Stable</td>
</tr>
<tr>
<td>Database Management (BACKUP, VACUUM, CHECKPOINT)</td>
<td>Stable</td>
</tr>
<tr>
<td>Snapshots (create, list, restore)</td>
<td>Stable</td>
</tr>
<tr>
<td>Schema Introspection (db.labels, db.indexes, etc.)</td>
<td>Stable</td>
</tr>
<tr>
<td>Inverted Index (ANY IN pattern)</td>
<td>Stable</td>
</tr>
<tr>
<td>OPTIONAL MATCH</td>
<td>Planned</td>
</tr>
<tr>
<td>Subqueries</td>
<td>Planned</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../vector-search/">Vector Search</a>  Semantic similarity queries</li>
<li><a href="../data-ingestion/">Data Ingestion</a>  Bulk import and streaming writes</li>
<li><a href="../performance-tuning/">Performance Tuning</a>  Query optimization strategies</li>
<li><a href="../../reference/troubleshooting/">Troubleshooting</a>  Common issues and solutions</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024-2026 Dragonscale Industries Inc. - Part of The Rustic Initiative
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="../../assets/javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>